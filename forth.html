<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body style="text-align: center;">
    <br>
    <h1 id="text2"> NOW AGAIN CLICK ON THE COLUMN IN WHICH NUMBER 1 LETTER OF THE WORD YOU THOUGHT OF IS PRESENT</h1>
    <br>
    <div class="main" id="final">
    </div>
    
         <script>
       window.addEventListener('DOMContentLoaded', () => {
            let final = document.querySelector("#final");
            let tablesHTML = localStorage.getItem('tablesHTML');

            if (tablesHTML) {
                final.innerHTML = tablesHTML;
                addEventListeners();
            }
        });

        function addEventListeners() {
    let d1 = document.querySelector("#d1");
    let d2 = document.querySelector("#d2");
    let d3 = document.querySelector("#d3");
    let d4 = document.querySelector("#d4");
    let n = localStorage.getItem('n');
    let text2 = document.querySelector("#text2");
    let clk = 0;

    function handleDivClick(div) {
        return () => {
            clk++;
           
            let table = div.querySelector('table');
            table.style.backgroundColor = " rgb(161, 235, 222)";
            let row = table.rows[clk];
            let td = row.cells[0]; 
            let letter = td.textContent;

            let word = localStorage.getItem('word') || "";
            word = word + letter;
            localStorage.setItem('word', word);
            if (clk == n) {
                window.location.href = "fifth.html";
            } else if (clk + 1 <= n) {
                text2.innerHTML = `NOW AGAIN PLEASE SELECT THE COLUMN IN WHICH THE NUMBER ${clk + 1} LETTER OF THE WORD YOU THOUGHT OF IS PRESENT`;
            }
        };
    }

    
    d1.addEventListener("click", handleDivClick(d1));
    d2.addEventListener("click", handleDivClick(d2));
    d3.addEventListener("click", handleDivClick(d3));
    d4.addEventListener("click", handleDivClick(d4));
}
    </script>

</body>
</html>
